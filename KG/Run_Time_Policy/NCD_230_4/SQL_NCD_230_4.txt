```sql
-- Policy: NCD - Diagnosis and Treatment of Impotence
-- Total Restrictions: 9
SELECT *
FROM patients
WHERE
  (
    -- Restriction 1: Patient has been diagnosed with impotence.
    impotence_diagnosis_status = TRUE
    AND
    -- Restriction 2: Patient is receiving treatment for impotence.
    impotence_treatment_status = TRUE
  )
  AND
  (
    -- Restriction 3: Surgical implantation of a penile prosthesis is a covered treatment option.
    treatment_surgical_penile_prosthesis_implantation = TRUE
    OR
    -- Restriction 4: Nonsurgical medical treatment for impotence is a covered option.
    treatment_nonsurgical_medical = TRUE
    OR
    -- Restriction 5: Nonsurgical psychotherapeutic treatment for impotence is a covered option.
    treatment_nonsurgical_psychotherapeutic = TRUE
  )
  AND
  (
    -- Restriction 6: Documentation of appropriateness may be requested if abuse related to the condition or treatment is suspected.
    abuse_suspected_documentation_request_flag = TRUE
    AND
    -- Restriction 7: Treatment for impotence is furnished in connection with a mental condition.
    treatment_linked_to_mental_condition_flag = TRUE
    AND
    -- Restriction 8: The patient receiving treatment in connection with a mental condition is not a hospital inpatient.
    patient_is_hospital_inpatient_for_mental_condition_treatment = FALSE
    AND
    -- Restriction 9: The psychiatric service limitation applies if treatment is furnished to patients (other than hospital inpatients) in connection with a mental condition.
    psychiatric_service_limitation_applies = TRUE
  );
```